# runs basic skim to check that things work locally

#make clean
make cmssw -j 8

# Run if need to setup working directories
#python3 scripts/condor_submit_nano_connect_ntuples.py -split 100 -list templists/Fall17_102X_local.list --verbose --dryrun
#python3 scripts/condor_submit_nano_connect_ntuples.py -split 100 -list templists/Summer20UL17_106X_local.list --verbose --dryrun
#python3 scripts/condor_submit_nano_connect_ntuples.py -split 100 -list templists/Summer22_130X_local.list --verbose --dryrun
#python3 scripts/condor_submit_nano_connect_ntuples.py -split 100 -list templists/Summer23BPix_130X_local.list --verbose --dryrun
#python3 scripts/condor_submit_nano_connect_ntuples.py -split 100 -list templists/Summer23BPix_130X_SMS_local.list --verbose --dryrun

# preUL
#./MakeReducedNtuple_NANO.x -ifile=root://cmsxrootd.fnal.gov//store/mc/RunIIFall17NanoAODv7/TTJets_TuneCP5_13TeV-madgraphMLM-pythia8/NANOAODSIM/PU2017_12Apr2018_Nano02Apr2020_102X_mc2017_realistic_v8-v1/120000/F3599A49-3B70-F545-9132-CEFEA4E5650F.root -ofile=TTJets_TuneCP5_13TeV-madgraphMLM-pythia8_Fall17_102X.root -tree=Events -dataset=TTJets_TuneCP5_13TeV-madgraphMLM-pythia8 -filetag=Fall17_102X -eventcount=./Fall17_102X_local/config/EventCount.root -filtereff=./Fall17_102X_local/config/FilterEff.root -json=./Fall17_102X_local/config/GRL_JSON.txt -pu=./Fall17_102X_local/config/PU/ -btag=./Fall17_102X_local/config/BtagSF/ -lep=./Fall17_102X_local/config/LepSF/ -jme=./Fall17_102X_local/config/JME/ -metfile=./Fall17_102X_local/config/METTrigger/Parameters.csv -prefirefile=./Fall17_102X_local/config/Prefire/Prefire.root -xsjsonfile=./Fall17_102X_local/config/XS_jsonfile.json -split=1,25

# UL
#./MakeReducedNtuple_NANO.x -ifile=root://cmsxrootd.fnal.gov//store/mc/RunIISummer20UL17NanoAODv9/TTJets_DiLept_TuneCP5_13TeV-madgraphMLM-pythia8/NANOAODSIM/106X_mc2017_realistic_v9-v1/50000/FB69BFDF-ADD5-8944-AA33-681E611906DC.root -ofile=TTJets_DiLept_TuneCP5_13TeV-madgraphMLM-pythia8_Summer20UL17_106X.root -tree=Events -dataset=TTJets_DiLept_TuneCP5_13TeV-madgraphMLM-pythia8 -filetag=Summer20UL17_106X -eventcount=./Summer20UL17_106X_local/config/EventCount.root -filtereff=./Summer20UL17_106X_local/config/FilterEff.root -json=./Summer20UL17_106X_local/config/GRL_JSON.txt -pu=./Summer20UL17_106X_local/config/PU/ -btag=./Summer20UL17_106X_local/config/BtagSF/ -lep=./Summer20UL17_106X_local/config/LepSF/ -jme=./Summer20UL17_106X_local/config/JME/ -metfile=./Summer20UL17_106X_local/config/METTrigger/Parameters.csv -prefirefile=./Summer20UL17_106X_local/config/Prefire/Prefire.root -xsjsonfile=./Summer20UL17_106X_local/config/XS_jsonfile.json -split=1,300

# Run3
#./MakeReducedNtuple_NANO.x -ifile=root://cmsxrootd.fnal.gov//store/mc/Run3Summer23BPixNanoAODv12/TTto2L2Nu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8/NANOAODSIM/130X_mcRun3_2023_realistic_postBPix_v2-v2/2820000/80b69952-5e0f-4211-ad3c-77603061f0b1.root -ofile=TTto2L2Nu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8_Summer23BPix_130X.root -tree=Events -dataset=TTto2L2Nu-2Jets_TuneCP5_13p6TeV_amcatnloFXFX-pythia8 -filetag=Summer23BPix_130X -eventcount=./Summer23BPix_130X_local/config/EventCount.root -filtereff=./Summer23BPix_130X_local/config/FilterEff.root -json=./Summer23BPix_130X_local/config/GRL_JSON.txt -pu=./Summer23BPix_130X_local/config/PU/ -btag=./Summer23BPix_130X_local/config/BtagSF/ -lep=./Summer23BPix_130X_local/config/LepSF/ -jme=./Summer23BPix_130X_local/config/JME/ -metfile=./Summer23BPix_130X_local/config/METTrigger/Parameters.csv -prefirefile=./Summer23BPix_130X_local/config/Prefire/Prefire.root -xsjsonfile=./Summer23BPix_130X_local/config/XS_jsonfile.json -split=1,30

# Run3 SMS
./MakeReducedNtuple_NANO.x -ifile=root://cmsxrootd.fnal.gov//store/mc/Run3Summer23BPixNanoAODv12/SlepSnuCascade_MN1-220_MN2-260_MC1-240_TuneCP5_13p6TeV_madgraphMLM-pythia8/NANOAODSIM/130X_mcRun3_2023_realistic_postBPix_v6-v3/2520000/45161c49-7f6a-4d5f-8cc7-15382cad4682.root -ofile=SlepSnuCascade_MN1-220_MN2-260_MC1-240_TuneCP5_13p6TeV_madgraphMLM-pythia8_Summer23BPix_130X_SMS_local.root --sms -tree=Events -dataset=SlepSnuCascade_MN1-220_MN2-260_MC1-240_TuneCP5_13p6TeV_madgraphMLM-pythia8 -filetag=Summer23BPix_130X -eventcount=./Summer23BPix_130X_SMS_local/config/EventCount.root -filtereff=./Summer23BPix_130X_SMS_local/config/FilterEff.root -json=./Summer23BPix_130X_SMS_local/config/GRL_JSON.txt -pu=./Summer23BPix_130X_SMS_local/config/PU/ -btag=./Summer23BPix_130X_SMS_local/config/BtagSF/ -lep=./Summer23BPix_130X_SMS_local/config/LepSF/ -jme=./Summer23BPix_130X_SMS_local/config/JME/ -metfile=./Summer23BPix_130X_SMS_local/config/METTrigger/Parameters.csv -prefirefile=./Summer23BPix_130X_SMS_local/config/Prefire/Prefire.root -xsjsonfile=./Summer23BPix_130X_SMS_local/config/XS_jsonfile.json -split=1,200
